<form>
<input type="button" value="start" onclick="if(timeout_id == null){animate();}" />
<input type="button" value="stop" onclick="if(timeout_id){clearTimeout(timeout_id);timeout_id = null;}" />
</form>
<img name="animation" src="images/0.jpg"/>
<script type="text/javascript">
//创建一组屏外图像，预先把动画的帧存在图像中
//这样我们需要它们的时候，它们已经被缓存了
var aniframes = new Array(10);
for(var i=0;i<10;i++){
	//创建一个屏外图像
	aniframes[i] = new Image();
	//告诉它要装载的URL
	aniframes[i].src = "images/" + i + ".jpg";
}
//帧计数器：追踪当前的帧
var frame = 0;
//允许使用clearTimeout方法停止动画
var timeout_id = null;

function animate(){
	//显示当前帧
	document.getElementsByName("animation")[0].src = aniframes[frame].src;
	//更新当前帧
	frame = (frame + 1)%10;
	//此后显示下一帧
	timeout_id = setTimeout("animate()",250);
}
</script>